/*
 * Automatically generated by Hostboot's ./genErrlParsers.pl
 * Do not modify this file in the FSP tree, it is provided by
 * Hostboot and will be overwritten
 *
 * TimeStamp:   Thu Apr 12 08:28:51 2018
 * Image Id:    hb0412a_1815.861
 *
 */

#include <errlplugins.H>
#include <errlusrparser.H>
#include <srcisrc.H>

static bool SrcDataParse(ErrlUsrParser & i_parser,
                         const SrciSrc & i_src)
{
    uint32_t l_error = (i_src.reasonCode() << 8) + i_src.moduleId();
    bool l_success = true;

    switch(l_error)
    {
    case 0x10080B:
        i_parser.PrintString("devdesc", "Error: Erroneous TOD configuration Possible Causes: Programming issue Resolution: Development team should be contacted.");
        i_parser.PrintString("moduleid", "TOD_LOG_INVALID_CONFIG");
        i_parser.PrintString("reasoncode", "TOD_INVALID_CONFIG");
        i_parser.PrintString("userdata1", "The problematic configuration (Primary/Secondary)");
        break;

    case 0x10090C:
        i_parser.PrintString("devdesc", "Error: The ordinal Id of one of the TOD procs did not fall in the range 0 <= Ordinal Id < getMaxProcsOnSystem Possible Causes: TOD logic has not been updated to support the latest system type where the no. of processor chips is either equal to or more than getMaxProcsOnSystem Resolution: Development team should be contacted.");
        i_parser.PrintString("moduleid", "TOD_LOG_UNSUPORTED_ORDINALID");
        i_parser.PrintString("reasoncode", "TOD_UNSUPORTED_ORDINALID");
        i_parser.PrintString("userdata1", "Ordinal Id for which the error is logged");
        break;

    case 0x100A0D:
        i_parser.PrintString("devdesc", "Scom access error");
        i_parser.PrintString("moduleid", "TOD_GETSCOM");
        i_parser.PrintString("reasoncode", "TOD_ECMD_ERROR");
        i_parser.PrintString("userdata1", "return code from ecmdDataBufferBase operation(s)");
        break;

    case 0x100B0E:
        i_parser.PrintString("devdesc", "Scom access error");
        i_parser.PrintString("moduleid", "TOD_GETFUNCNODETARGETSONSYSTEM");
        i_parser.PrintString("reasoncode", "TOD_NULL_INPUT_TARGET");
        i_parser.PrintString("userdata1", "HUID of the target that was validated");
        break;

    case 0x100C0E:
        i_parser.PrintString("devdesc", "Scom access error");
        i_parser.PrintString("moduleid", "TOD_GETFUNCNODETARGETSONSYSTEM");
        i_parser.PrintString("reasoncode", "TOD_INVALID_TARGET");
        i_parser.PrintString("userdata1", "HUID of the target that was validated");
        break;

    case 0x100507:
        i_parser.PrintString("devdesc", "Error: Unsupported bus type was detected Possible Causes: Invalid bus configuration in targeting, or getBusPort method has not been updated to support all the bus type on a given system. Resolution:Development team should be contacted.");
        i_parser.PrintString("moduleid", "TOD_LOG_UNSUPPORTED_BUSTYPE");
        i_parser.PrintString("reasoncode", "TOD_UNSUPPORTED_BUSTYPE");
        i_parser.PrintString("userdata1", "Bus type that is not currently supported");
        break;

    case 0x100608:
        i_parser.PrintString("devdesc", "Error: Unsupported bus port was detected for the specified bus type. Possible Causes: Invalid bus configuration in targeting, or getBusPort method has not been updated to support all the possible port for a bus on a given system type. Resolution:Development team should be contacted.");
        i_parser.PrintString("moduleid", "TOD_LOG_UNSUPPORTED_BUSPORT");
        i_parser.PrintString("reasoncode", "TOD_UNSUPPORTED_BUSPORT");
        i_parser.PrintString("userdata1", "Bus port that is not currently supported");
        i_parser.PrintString("userdata2", "Bus Type for which the unsupported port has been reported");
        break;

    case 0x100101:
        i_parser.PrintString("devdesc", "MDMT could not be found for the supplied topology type");
        i_parser.PrintString("moduleid", "TOD_PICK_MDMT");
        i_parser.PrintString("reasoncode", "TOD_NO_MASTER_PROC");
        i_parser.PrintString("userdata1", "TOD configuration type");
        break;

    case 0x100202:
        i_parser.PrintString("devdesc", "MDMT could not find a functional node");
        i_parser.PrintString("moduleid", "TOD_BUILD_TOD_DRAWERS");
        i_parser.PrintString("reasoncode", "TOD_NO_FUNC_NODE_AVAILABLE");
        i_parser.PrintString("userdata1", "system target's HUID");
        break;

    case 0x100302:
        i_parser.PrintString("devdesc", "No TOD drawer could be configured for this topology type");
        i_parser.PrintString("moduleid", "TOD_BUILD_TOD_DRAWERS");
        i_parser.PrintString("reasoncode", "TOD_NO_DRAWERS");
        i_parser.PrintString("userdata1", "TOD configuration");
        break;

    case 0x100403:
        i_parser.PrintString("devdesc", "Error: primary and secondary MDMT do not agree on bits 0 of TOD status register 0x40008");
        i_parser.PrintString("moduleid", "TOD_QUERY_ACTIVE_CONFIG");
        i_parser.PrintString("reasoncode", "TOD_HW_ERROR");
        i_parser.PrintString("userdata1", "Status register bits of primary MDMT");
        i_parser.PrintString("userdata2", "Status register bits of secondary MDMT");
        break;

    case 0x100709:
        i_parser.PrintString("devdesc", "Error: can not create TOD topology when TOD HW is running");
        i_parser.PrintString("moduleid", "TOD_SETUP");
        i_parser.PrintString("reasoncode", "TOD_INVALID_ACTION");
        i_parser.PrintString("userdata1", "ChipTOD logic HW state , 1=running , zero otherwise");
        break;

    case 0x10010A:
        i_parser.PrintString("devdesc", "MDMT could not be found");
        i_parser.PrintString("moduleid", "TOD_READ");
        i_parser.PrintString("reasoncode", "TOD_NO_MASTER_PROC");
        break;

    case 0x100D0F:
        i_parser.PrintString("devdesc", "TOD master drawer not found");
        i_parser.PrintString("moduleid", "TOD_TOPOLOGY_CREATE");
        i_parser.PrintString("reasoncode", "TOD_CREATION_ERR");
        i_parser.PrintString("userdata1", "Topology type : primary/secondary");
        break;

    case 0x100E10:
        i_parser.PrintString("devdesc", "TOD drawer not specified");
        i_parser.PrintString("moduleid", "TOD_WIRE_PROCS");
        i_parser.PrintString("reasoncode", "TOD_CREATION_ERR_NO_DRAWER");
        i_parser.PrintString("userdata1", "Topology type : primary/secondary");
        break;

    case 0x100D10:
        i_parser.PrintString("devdesc", "TOD drawer has one or more disconnected procs");
        i_parser.PrintString("moduleid", "TOD_WIRE_PROCS");
        i_parser.PrintString("reasoncode", "TOD_CREATION_ERR");
        i_parser.PrintString("userdata1", "DrawerId = bit[0:31], Topology type = bit[32:63]");
        i_parser.PrintString("userdata2", "HUID of first disconnected proc");
        break;

    case 0x100D11:
        i_parser.PrintString("devdesc", "TOD drawer not specified");
        i_parser.PrintString("moduleid", "TOD_WIRE_DRAWERS");
        i_parser.PrintString("reasoncode", "TOD_CREATION_ERR");
        i_parser.PrintString("userdata1", "Topology type : primary/secondary");
        break;

    case 0x100111:
        i_parser.PrintString("devdesc", "MDMT could not be found");
        i_parser.PrintString("moduleid", "TOD_WIRE_DRAWERS");
        i_parser.PrintString("reasoncode", "TOD_NO_MASTER_PROC");
        i_parser.PrintString("userdata1", "Topology type : primary/secondary");
        break;

    case 0x100F11:
        i_parser.PrintString("devdesc", "TOD drawer couldn't be wired");
        i_parser.PrintString("moduleid", "TOD_WIRE_DRAWERS");
        i_parser.PrintString("reasoncode", "TOD_CANNOT_WIRE_DRAWER");
        i_parser.PrintString("userdata1", "Topology type : primary/secondary");
        i_parser.PrintString("userdata2", "TOD drawer id");
        break;

    case 0x100105:
        i_parser.PrintString("devdesc", "MDMT could not be found");
        i_parser.PrintString("moduleid", "TOD_SETUP_HWP");
        i_parser.PrintString("reasoncode", "TOD_NO_MASTER_PROC");
        break;

    case 0x100106:
        i_parser.PrintString("devdesc", "MDMT could not be found");
        i_parser.PrintString("moduleid", "TOD_SAVEREGS_HWP");
        i_parser.PrintString("reasoncode", "TOD_NO_MASTER_PROC");
        break;

    case 0x100112:
        i_parser.PrintString("devdesc", "MDMT could not be found");
        i_parser.PrintString("moduleid", "TOD_INIT_HWP");
        i_parser.PrintString("reasoncode", "TOD_NO_MASTER_PROC");
        break;

    case 0x100104:
        i_parser.PrintString("devdesc", "No master proc set for this drawer");
        i_parser.PrintString("moduleid", "TOD_FIND_MASTER_PROC");
        i_parser.PrintString("reasoncode", "TOD_NO_MASTER_PROC");
        i_parser.PrintString("userdata1", "TOD drawer id");
        break;

    default:
        l_success = false;
        break;
    };
    return l_success;
}

static errl::SrcPlugin g_SrcPlugin(0x1000, SrcDataParse, ERRL_CID_HOSTBOOT);
