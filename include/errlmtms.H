#ifndef ERRLMTMS_H
#define ERRLMTMS_H

/*****************************************************************************/
// I n c l u d e s
/*****************************************************************************/
#include <errltypes.H>

/*****************************************************************************/
// F o r w a r d s
/*****************************************************************************/
class UtilStream;
class ErrlParser;
/*****************************************************************************/
// User Types
/*****************************************************************************/

/*****************************************************************************/
// Constants
/*****************************************************************************/
const uint32_t ERRL_MTMS_MTM_LEN    = 8;
const uint32_t ERRL_MTMS_SERIAL_LEN = 12;

/*****************************************************************************/
// Synonyms
/*****************************************************************************/

/*****************************************************************************/
// Macros
/*****************************************************************************/

/*****************************************************************************/
// Prototypes
/*****************************************************************************/
class ErrlMTMS
{

public:
    
    
    ErrlMTMS( const char * i_mtm, const char * i_sn );
    
    
    ErrlMTMS( UtilStream & i_stream );

    
    ~ErrlMTMS();

    
    uint32_t flatSize() const;

    
    void unflatten(
        UtilStream &i_stream
    );

    
    const char *MachineType() const;

    
    const char *SerialNumber() const;

    void print(
	ErrlParser & i_parser,bool flag = false
    );
    
private:

    char iv_mtm[ERRL_MTMS_MTM_LEN+1];
    char iv_serial[ERRL_MTMS_SERIAL_LEN+1];

    // Disabled
    void * operator new( size_t );

};

/*****************************************************************************/
// Inlines
/*****************************************************************************/

/*****************************************************************************/
// Constructor
// Invariant1: Machine Type & Model
// Invariant2: Serial #
/*****************************************************************************/
inline ErrlMTMS::ErrlMTMS( const char * i_mtm, const char * i_sn )
{
}


/*****************************************************************************/
// Read mtm
/*****************************************************************************/
inline const char *ErrlMTMS::MachineType() const
{
    return iv_mtm;
}


/*****************************************************************************/
// Read serial number
/*****************************************************************************/
inline const char *ErrlMTMS::SerialNumber() const
{
    return iv_serial;
}




#endif //ERRLMTMS_H
